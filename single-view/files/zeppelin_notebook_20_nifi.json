{"paragraphs":[{"text":"%md\n## Ingest tweets and weblogs into HDFS using Nifi\n\nIn this section we will:\n\n1. Create a script which generates weblogs\n2. Setup Solr for twitter\n3. Create a Twitter App for accessing the Twitter API\n4. Use NiFi to load tweets & weblogs into HDFS & SOLR\n","dateUpdated":"Apr 10, 2016 2:12:48 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460297568688_356430823","id":"20160410-141248_836391611","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Ingest tweets and weblogs into HDFS using Nifi</h2>\n<p>In this section we will:</p>\n<ol>\n<li>Create a script which generates weblogs</li>\n<li>Setup Solr for twitter</li>\n<li>Create a Twitter App for accessing the Twitter API</li>\n<li>Use NiFi to load tweets &amp; weblogs into HDFS &amp; SOLR</li>\n</ol>\n"},"dateCreated":"Apr 10, 2016 2:12:48 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3514"},{"title":"1. Script \"weblog generator\" script","text":"%sh\ngit clone https://github.com/abajwa-hw/single-view-demo.git\ncp /home/zeppelin/single-view-demo/createlog-psql.sh /tmp\ncp /home/zeppelin/single-view-demo/DimCustomer.csv /tmp\n\necho \"/tmp/createlog-psql.sh /tmp/data/DimCustomer.csv 20 >> /tmp/webtraffic.log\" >> /tmp/generate-weblog.sh\n\nchmod 777 /tmp/createlog-psql.sh\nchmod 777 /tmp/generate-weblog.sh\nchmod 444 /tmp/DimCustomer.csv\n","dateUpdated":"Apr 10, 2016 2:15:20 PM","config":{"colWidth":12,"editorMode":"ace/mode/sh","editorHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460297568688_356430823","id":"20160410-141248_288102939","dateCreated":"Apr 10, 2016 2:12:48 PM","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3515","dateFinished":"Apr 10, 2016 2:15:31 PM","dateStarted":"Apr 10, 2016 2:15:20 PM","focus":true},{"title":"2. Configure Solr for Twitter","text":"%sh\nsudo curl -ksSL https://raw.githubusercontent.com/abajwa-hw/single-view-demo/master/dashboard/default.json -o /opt/lucidworks-hdpsearch/solr/server/solr-webapp/webapp/banana/app/dashboards/default.json\nsudo curl -L https://git.io/vVRPz -o /opt/lucidworks-hdpsearch/solr/server/solr/configsets/data_driven_schema_configs/conf/solrconfig.xml\n","dateUpdated":"Apr 10, 2016 2:59:19 PM","config":{"colWidth":12,"editorMode":"ace/mode/sh","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460297568688_356430823","id":"20160410-141248_1380271408","dateCreated":"Apr 10, 2016 2:12:48 PM","status":"FINISHED","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3516","dateFinished":"Apr 10, 2016 2:59:21 PM","dateStarted":"Apr 10, 2016 2:59:19 PM","focus":true},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"editorHide":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460300317410_-1933640079","id":"20160410-145837_598069673","dateCreated":"Apr 10, 2016 2:58:37 PM","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3715","text":"%md\n#### Restart Solr from Ambari\n\nDo not proceed to the next step until Solr is up","dateUpdated":"Apr 10, 2016 3:01:50 PM","dateFinished":"Apr 10, 2016 3:01:47 PM","dateStarted":"Apr 10, 2016 3:01:47 PM","result":{"code":"SUCCESS","type":"HTML","msg":"<h4>Restart Solr from Ambari</h4>\n<p>Do not proceed to the next step until Solr is up</p>\n"}},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460300301559_-117640595","id":"20160410-145821_879428526","dateCreated":"Apr 10, 2016 2:58:21 PM","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:3675","text":"%sh\nsudo -i /opt/lucidworks-hdpsearch/solr/bin/solr create -c tweets \\\n   -d data_driven_schema_configs \\\n   -s 1 \\\n   -rf 1 >> /tmp/zeppelin-out.log 2>&1","dateUpdated":"Apr 10, 2016 3:02:34 PM","dateFinished":"Apr 10, 2016 3:01:40 PM","dateStarted":"Apr 10, 2016 3:01:35 PM","title":"Create Tweets collection in Solr","result":{"code":"SUCCESS","type":"TEXT","msg":""}},{"text":"%md\n#### 3. Create Twitter app & access tokens\n\nTo monitor tweets, you will need to do the following on your Twitter account:\n- Create a Twitter account and app and get your consumer key/token and access keys/tokens:\n  - Open https://apps.twitter.com \n  - sign in\n  - create new app\n  - the \"Application Details\" do not matter. Put whatever you want.\n  - create access tokens\n\n#### 4. Load our prebuilt Tempalte into NiFI\n\n1. Download prebuilt Single_view_demo.xml template to your laptop from [here](https://github.com/abajwa-hw/single-view-demo/raw/master/template/Single_view_demo.xml)\n2. Open Nifi webui (http://:9090)\n3. Import the Single_view_demo.xml template info Nifi\n\n#### 5. Update Twitter credentials in the Twitter Process Group\n\n#### 6. Start the Flows","dateUpdated":"Apr 10, 2016 2:12:48 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460297568689_356046074","id":"20160410-141248_129108182","result":{"code":"SUCCESS","type":"HTML","msg":"<h4>3. Create Twitter app &amp; access tokens</h4>\n<p>To monitor tweets, you will need to do the following on your Twitter account:</p>\n<ul>\n<li>Create a Twitter account and app and get your consumer key/token and access keys/tokens:</li>\n<li>Open https://apps.twitter.com</li>\n<li>sign in</li>\n<li>create new app</li>\n<li>the &ldquo;Application Details&rdquo; do not matter. Put whatever you want.</li>\n<li>create access tokens</li>\n</ul>\n<h4>4. Load our prebuilt Tempalte into NiFI</h4>\n<ol>\n<li>Download prebuilt Single_view_demo.xml template to your laptop from <a href=\"https://github.com/abajwa-hw/single-view-demo/raw/master/template/Single_view_demo.xml\">here</a></li>\n<li>Open Nifi webui (http://:9090)</li>\n<li>Import the Single_view_demo.xml template info Nifi</li>\n</ol>\n<h4>5. Update Twitter credentials in the Twitter Process Group</h4>\n<h4>6. Start the Flows</h4>\n"},"dateCreated":"Apr 10, 2016 2:12:48 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3517"},{"text":"%md\n## Done! NiFi is now:\n\n  - ingesting the tweets under /tmp/weblog_staging in HDFS\n  - ingest the weblogs under /tmp/tweets_staging in HDFS","dateUpdated":"Apr 10, 2016 2:12:48 PM","config":{"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460297568689_356046074","id":"20160410-141248_1679740177","result":{"code":"SUCCESS","type":"HTML","msg":"<h2>Done! NiFi is now:</h2>\n<ul>\n<li>ingesting the tweets under /tmp/weblog_staging in HDFS</li>\n<li>ingest the weblogs under /tmp/tweets_staging in HDFS</li>\n</ul>\n"},"dateCreated":"Apr 10, 2016 2:12:48 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3518"},{"dateUpdated":"Apr 10, 2016 2:12:48 PM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1460297568689_356046074","id":"20160410-141248_362016587","dateCreated":"Apr 10, 2016 2:12:48 PM","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:3519"}],"name":"Single View - NiFi","id":"2BGAYUF99","angularObjects":{"2BGU6YYWV":[],"2BGS4HXY1":[],"2BJE8CE8V":[],"2BJAFGWJT":[],"2BH67HDS1":[],"2BHKWKJ84":[],"2BG7MDPHE":[],"2BJNCWR5E":[],"2BGHPDVGQ":[],"2BF9863A2":[],"2BJU3MNM7":[],"2BH47F98D":[],"2BG3JJJG2":[],"2BFWAMMQB":[],"2BHSKSPHE":[]},"config":{"looknfeel":"default"},"info":{}}